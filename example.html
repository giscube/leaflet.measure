<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="leaflet/dist/leaflet.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="leaflet/dist/leaflet.ie.css" /><![endif]-->
		<link rel="stylesheet" href="leaflet.measure/leaflet.measure.css" />

		<script src="leaflet/build/deps.js"></script>
		<script src="leaflet/debug/leaflet-include.js"></script>
		<script src="leaflet.measure/leaflet.measure.js"></script>
	</head>
	
	<body>
		<div id="map" style="width: 800px; height: 600px;"></div>

		<script type="text/javascript">
			var layerOsm = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
				subdomains: ["a", "b", "c"],
				maxZoom: 18
			});
			
			var map = new L.Map('map').addLayer(layerOsm).setView(new L.LatLng(40.524724, -3.816153), 6);
			var measureControl = new L.Control.Measure({
				position: 'topleft',
				measureUnit: 'km'
			});
			measureControl.addTo(map);

			map.on('measure:measurestop', function(e) {
				console.log("stop");
				console.log(e);
			});
			map.on('measure:measurestart', function(e) {
				console.log("start");
				console.log(e);
			});

		</script>
	</body>
</html>

